<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>SemitONada Full</title>
<style>
  /* === Estilo Sci-Fi Minimalista Dark === */
  :root {
    --cor-fundo: #121212;
    --cor-texto: #eee;
    --cor-primaria: #0ff;
    --cor-secundaria: #088;
    --cor-accento: #ff4081;
    --cor-destaque: #ffd600;
    --espacamento: 1rem;
    --fonte: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    --botao-bg: var(--cor-secundaria);
    --botao-hover-bg: var(--cor-primaria);
  }
  body { margin:0; background:var(--cor-fundo); color:var(--cor-texto); font-family:var(--fonte); padding:var(--espacamento); display:flex; flex-direction:column; align-items:center; min-height:100vh; }
  h1 { text-align:center; margin-bottom:1.5rem; font-weight:900; color:var(--cor-primaria); text-shadow:0 0 10px var(--cor-primaria); }
  .controles { display:flex; gap:0.5rem; justify-content:center; flex-wrap:wrap; margin-bottom:1rem; }
  button { background:var(--botao-bg); border:none; color:var(--cor-texto); padding:0.5rem 1rem; cursor:pointer; border-radius:6px; font-weight:700; user-select:none; transition:0.3s; min-width:100px; text-align:center; }
  button:hover, button.ativo, button[aria-pressed="true"] { background:var(--botao-hover-bg); box-shadow:0 0 15px var(--cor-primaria); color:var(--cor-fundo); }
  .graus, .acordes { display:flex; justify-content:space-around; font-weight:700; font-size:1.3rem; margin-bottom:1rem; width:100%; max-width:700px; }
  .graus div, .acordes div { flex:1; text-align:center; user-select:none; padding:0.3rem 0.1rem; border-radius:4px; transition:0.3s; }
  .acordes div[data-fechado="true"] { color:#444; cursor:default; background:transparent; box-shadow:none; }
  .acordes div:hover:not([data-fechado="true"]) { background:var(--cor-primaria); color:var(--cor-fundo); cursor:pointer; box-shadow:0 0 8px var(--cor-primaria); }
  #meta { text-align:center; font-style:italic; min-height:1.5rem; margin-bottom:1rem; font-size:1rem; color:var(--cor-destaque); text-shadow:0 0 6px var(--cor-destaque); user-select:none; max-width:700px; }
  .aba { display:none; max-width:700px; margin:auto; background:#1a1a1a; border-radius:8px; padding:1rem 1.5rem; box-shadow:0 0 15px #0ff6; color:#ddd; }
  .aba.active { display:block; }
  h2, h3 { color:var(--cor-primaria); text-shadow:0 0 8px var(--cor-primaria); }
  ul { padding-left:1.2rem; margin-top:0.2rem; }
  ul li { margin-bottom:0.4rem; line-height:1.3em; }
  ul li b { color:var(--cor-accento); }
  .func-tonica { color:#4caf50; font-weight:700; }
  .func-subdominante { color:#ff9800; font-weight:700; }
  .func-dominante { color:#f44336; font-weight:700; }
  #quiz { background:#222; border-radius:8px; padding:1rem 1.5rem; margin-top:1rem; box-shadow:0 0 12px #0ff9; color:#eee; }
  #quiz h3 { margin-top:0; color:var(--cor-destaque); }
  .quiz-pergunta { margin-bottom:1rem; }
  .quiz-opcao { background:var(--botao-bg); border-radius:6px; padding:0.4rem 0.8rem; margin:0.2rem 0; cursor:pointer; transition:0.3s; user-select:none; }
  .quiz-opcao:hover { background:var(--botao-hover-bg); color:var(--cor-fundo); }
  .quiz-opcao.correta { background:#4caf50; color:#fff; cursor:default; box-shadow:0 0 12px #4caf50aa; }
  .quiz-opcao.errada { background:#f44336; color:#fff; cursor:default; box-shadow:0 0 12px #f44336aa; }
  footer { margin-top:auto; margin-bottom:1rem; text-align:center; font-size:0.9rem; color:var(--cor-primaria); user-select:none; max-width:700px; }
  footer button { margin-top:0.5rem; background:transparent; border:2px solid var(--cor-primaria); color:var(--cor-primaria); border-radius:6px; padding:0.3rem 0.6rem; font-weight:700; cursor:pointer; transition:0.3s; }
  footer button:hover { background:var(--cor-primaria); color:var(--cor-fundo); }
  #surpresa { margin-top:0.5rem; font-weight:700; color:var(--cor-primaria); display:none; user-select:none; }
  @media(max-width:600px){.graus,.acordes{flex-direction:column;gap:0.5rem;}button{min-width:70px;padding:0.4rem 0.6rem;font-size:0.9rem;}}
</style>
</head>
<body>
<h1>SemitONada </h1>

<!-- === Controles do Modo Maior/Menor === -->
<div class="controles modo-toggle" aria-label="Sele√ß√£o de modo">
  <button id="toggleModo" aria-pressed="false" aria-label="Alternar modo maior/menor">Modo: Maior</button>
</div>

<!-- === Bot√µes de tom === -->
<div class="controles tom-btns" id="tons" aria-label="Sele√ß√£o de tom"></div>

<!-- === Graus Harm√¥nicos === -->
<div class="graus" aria-label="Graus harm√¥nicos">
  <div>I</div><div>ii</div><div>iii</div><div>IV</div><div>V</div><div>vi</div><div>vii¬∞</div>
</div>

<!-- === Acordes do Campo Harm√¥nico === -->
<div class="acordes" id="acordes" aria-live="polite" aria-label="Acordes do campo harm√¥nico"></div>
<div id="meta" aria-live="polite"></div>

<!-- === Controles de Progress√£o === -->
<div class="controles animacao-container" aria-label="Controle de progress√£o">
  <button id="btnPlayProg" aria-label="Tocar progress√£o">‚ñ∂ Tocar Progress√£o</button>
  <button id="btnPauseProg" style="display:none;" aria-label="Parar progress√£o">‚ñ† Parar</button>
  <button id="btnProgDefinir">Definir Sequ√™ncia</button>
</div>

<!-- === Mostrar todos / individual / abas === -->
<div class="controles" style="justify-content:center; margin-bottom:1rem;">
  <button id="btnGeral" aria-label="Mostrar todos acordes">Mostrar Todos</button>
  <button id="btnIndividual" aria-label="Modo individual">Modo Individual</button>
  <button id="btnResetIndividual" style="display:none;" aria-label="Resetar modo individual">Resetar Individual</button>
  <button id="btnToggleTeoria" aria-expanded="false" aria-controls="aba-teoria" aria-label="Mostrar/Ocultar teoria">Teoria</button>
  <button id="btnToggleHistoria" aria-expanded="false" aria-controls="aba-historia" aria-label="Mostrar/Ocultar hist√≥ria">Hist√≥ria</button>
</div>

<!-- === Abas de Teoria e Hist√≥ria === -->
<div class="aba" id="aba-teoria" role="region" aria-live="polite">
  <h2>Teoria Completa do Campo Harm√¥nico</h2>
  <p>O campo harm√¥nico √© um <strong>conjunto de acordes</strong> formados a partir das notas de uma escala, organizados por graus.</p>
  <h3>Campo Harm√¥nico Maior</h3>
  <ul>
    <li><b class="func-tonica">I</b> ‚Äì maior (<span class="func-tonica">t√¥nica</span>)</li>
    <li><b class="func-subdominante">ii</b> ‚Äì menor (<span class="func-subdominante">supert√¥nica</span>)</li>
    <li><b class="func-subdominante">iii</b> ‚Äì menor (<span class="func-subdominante">mediante</span>)</li>
    <li><b class="func-subdominante">IV</b> ‚Äì maior (<span class="func-subdominante">subdominante</span>)</li>
    <li><b class="func-dominante">V</b> ‚Äì maior (<span class="func-dominante">dominante</span>)</li>
    <li><b class="func-tonica">vi</b> ‚Äì menor (<span class="func-tonica">submediante</span>)</li>
    <li><b class="func-dominante">vii¬∞</b> ‚Äì diminuto (<span class="func-dominante">sens√≠vel</span>)</li>
  </ul>
  <h3>Campo Harm√¥nico Menor Natural</h3>
  <ul>
    <li><b class="func-tonica">i</b> ‚Äì menor (<span class="func-tonica">t√¥nica</span>)</li>
    <li><b class="func-dominante">ii¬∞</b> ‚Äì diminuto (<span class="func-dominante">supert√¥nica</span>)</li>
    <li><b class="func-subdominante">III</b> ‚Äì maior (<span class="func-subdominante">mediante</span>)</li>
    <li><b class="func-subdominante">iv</b> ‚Äì menor (<span class="func-subdominante">subdominante</span>)</li>
    <li><b class="func-dominante">v</b> ‚Äì menor (<span class="func-dominante">dominante</span>)</li>
    <li><b class="func-tonica">VI</b> ‚Äì maior (<span class="func-tonica">submediante</span>)</li>
    <li><b class="func-tonica">VII</b> ‚Äì maior (<span class="func-tonica">subt√¥nica</span>)</li>
  </ul>
</div>

<div class="aba" id="aba-historia" role="region" aria-live="polite">
  <h2>Hist√≥ria e Cultura Musical</h2>
  <p>A m√∫sica √© uma linguagem universal que evoluiu ao longo dos s√©culos, refletindo a cultura, a tecnologia e as emo√ß√µes humanas. Desde os tempos antigos, a m√∫sica tem sido usada em rituais, celebra√ß√µes e express√µes art√≠sticas.</p>
  <h3>üéºA Musica no Ocidente</h3>
  <p>No in√≠cio da Idade M√©dia, a m√∫sica come√ßou a ser registrada em nota√ß√£o, permitindo a preserva√ß√£o de melodias e a transmiss√£o de conhecimento. Entre os s√©culos XIV e XVIII, surgiram escalas temperadas e a m√∫sica passou a explorar cada vez mais harmonia e contraponto. Instrumentos de corda, sopros e percuss√£o evolu√≠ram constantemente, dando origem a orquestras e conjuntos complexos. Durante o per√≠odo cl√°ssico, compositores como Beethoven consolidaram t√©cnicas que influenciam at√© hoje a m√∫sica ocidental.</p>

  <h3>üåè A Musica no Oriente</h3>
  <p>Desde tempos antigos, a m√∫sica era transmitida oralmente, mantendo modos microtonais e grande liberdade para improvisa√ß√£o. Ela estava profundamente ligada a rituais religiosos, dan√ßas e festivais, refletindo a cultura de cada regi√£o. Instrumentos como sitar, koto e gamel√£o eram usados para expressar emo√ß√µes e hist√≥rias, e cada interpreta√ß√£o podia variar dependendo do contexto social e do int√©rprete.</p>

  <h3>üï∞ A Musica no Contexto social</h3>
  <p>A m√∫sica sempre refletiu os valores, cren√ßas e festas de cada sociedade. No Ocidente, compositores eram muitas vezes ligados √† Igreja ou √†s cortes, enquanto no Oriente, m√∫sicos participavam de cerim√¥nias religiosas e celebra√ß√µes populares. Ao longo do tempo, a m√∫sica conectou pessoas e √©pocas, funcionando como registro cultural e express√£o art√≠stica.</p>

  <h3>üéπ Instrumentos e timbres</h3>
  <p>A evolu√ß√£o dos instrumentos permitiu que diferentes timbres moldassem a percep√ß√£o da m√∫sica. Cordas, sopros, percuss√£o e, mais recentemente, eletr√¥nicos transformaram a forma como ouvimos e interpretamos sons. Cada timbre acrescenta nuances √† harmonia e √† emo√ß√£o transmitida pela m√∫sica.</p>

  <h3>üé∂ Exemplos pr√°ticos</h3>
  <p>No Ocidente cl√°ssico, Beethoven representou a consolida√ß√£o da harmonia e da forma musical. No Oriente, Ravi Shankar trouxe a m√∫sica indiana ao mundo, mostrando como improvisa√ß√£o e modos microtonais criam experi√™ncias √∫nicas. No s√©culo XX e XXI, jazz moderno, m√∫sica eletr√¥nica e fus√µes culturais mostram como a m√∫sica continua a evoluir e se reinventar.</p>

  <h3>üí° Aprenda</h3>
  <p>Estude a m√∫sica em seu contexto hist√≥rico e cultural. Identifique tons, intervalos e fun√ß√µes harm√¥nicas em diferentes per√≠odos. Pratique tocar, combinar sons e observar como a m√∫sica reflete a sociedade e a criatividade de cada √©poca.</p>

  <h3>Exemplo pr√°tico</h3>
  <p>Na tonalidade de <strong>C maior</strong>, o campo harm√¥nico possui os seguintes acordes:</p>
  <ul>
    <li><b>C</b> (I maior) - t√¥nica</li>
    <li><b>Dm</b> (ii menor) - supert√¥nica</li>
    <li><b>Em</b> (iii menor) - mediante</li>
    <li><b>F</b> (IV maior) - subdominante</li>
    <li><b>G</b> (V maior) - dominante</li>
    <li><b>Am</b> (vi menor) - submediante</li>
    <li><b>Bdim</b> (vii¬∞ diminuto) - sens√≠vel</li>
  </ul>

  <p>Uma progress√£o muito usada √© <strong>I - IV - V - I</strong> (ex: C - F - G - C), que refor√ßa a tonalidade e cria movimento musical.</p>
</div>

<!-- === Quiz === -->
<div id="quiz" aria-label="Quiz de Campo Harm√¥nico">
  <h3>Quiz R√°pido</h3>
  <div id="pergunta" class="quiz-pergunta"></div>
  <div id="opcoes"></div>
  <div id="feedback" aria-live="assertive" style="margin-top:0.5rem; min-height:1.2em;"></div>
  <button id="btnProxima" style="margin-top:1rem; display:none;">Pr√≥xima</button>
</div>

<!-- === Footer / Surpresa === -->
<footer>
  Isso √© estudar m√∫sica <br>
  <button id="btnSurpresa" aria-label="Mensagem surpresa">Clique para surpresa üéÅ</button>
  <div id="surpresa" role="alert" aria-live="polite"></div>
  <p>Desenvolvido por <a href="https://github.com/Ganjabionick8" target="_blank" rel="noopener noreferrer">@Ganjabionick8</a> ‚Äì SemitONada‚Ñ¢ ¬© 2025</p>
</footer>

<script>
/* ================================
   SCRIPT DID√ÅTICO
   ================================ */

/* --- 1. Notas e escalas --- */
const notas=['C','C#','D','Eb','E','F','F#','G','G#','A','Bb','B'];
const campos={
  maior:{intervalos:[0,2,4,5,7,9,11],sufixos:["","m","m","","","m","¬∞"]},
  menor:{intervalos:[0,2,3,5,7,8,10],sufixos:["m","¬∞","","m","m","",""]}
};

/* --- Estado atual --- */
let modoAtual='maior', tomAtual='C';
let progressaoAtiva=false, progIndex=0, intervaloProg=null, progressaoDefinida=[];

/* --- Elementos do DOM --- */
const tonsDiv=document.getElementById("tons");
const acordesDiv=document.getElementById("acordes");
const metaDiv=document.getElementById("meta");
const toggleBtn=document.getElementById("toggleModo");
const btnPlayProg=document.getElementById("btnPlayProg");
const btnPauseProg=document.getElementById("btnPauseProg");
const btnGeral=document.getElementById("btnGeral");
const btnIndividual=document.getElementById("btnIndividual");
const btnResetIndividual=document.getElementById("btnResetIndividual");
const btnToggleTeoria=document.getElementById("btnToggleTeoria");
const abaTeoria=document.getElementById("aba-teoria");
const btnToggleHistoria=document.getElementById("btnToggleHistoria");
const abaHistoria=document.getElementById("aba-historia");
const btnProgDefinir=document.getElementById("btnProgDefinir");
const btnSurpresa=document.getElementById("btnSurpresa");
const surpresaDiv=document.getElementById("surpresa");

/* --- Frases surpresa --- */
const frasesSurpresa=[
  "Parab√©ns! Voc√™ encontrou a surpresa üéâüî•",
  "O poder do campo harm√¥nico est√° com voc√™! ‚ö°Ô∏è",
  "Voc√™ √© praticamente um mestre musical üòé",
  "Hoje voc√™ aprendeu algo novo! üé∂",
  "Continue praticando, jovem padawan da m√∫sica ü™ê"
];

/* --- 2. Criar bot√µes de tom --- */
function criarBotoesTons(){
  tonsDiv.innerHTML="";
  notas.forEach(nota=>{
    const b=document.createElement("button");
    b.textContent=nota;
    b.onclick=()=>{ tomAtual=nota; atualizarAcordes(); metaDiv.textContent="Tom alterado para "+nota; };
    if(nota===tomAtual) b.classList.add("ativo");
    tonsDiv.appendChild(b);
  });
}

/* --- 3. Atualizar acordes --- */
function atualizarAcordes(){
  acordesDiv.innerHTML="";
  const escala=campos[modoAtual].intervalos.map(i=>notas[(notas.indexOf(tomAtual)+i)%12]);
  const sufixos=campos[modoAtual].sufixos;
  escala.forEach((n,i)=>{
    const d=document.createElement("div");
    d.textContent=n+sufixos[i];
    acordesDiv.appendChild(d);
  });
  document.querySelectorAll("#tons button").forEach(b=>b.classList.toggle("ativo",b.textContent===tomAtual));
  toggleBtn.textContent="Modo: "+(modoAtual==="maior"?"Maior":"Menor");
}

/* --- 4. Alternar modo maior/menor --- */
toggleBtn.onclick=()=>{ modoAtual=modoAtual==="maior"?"menor":"maior"; atualizarAcordes(); };

/* --- 5. Progress√£o autom√°tica --- */
function tocarProgressaoSequencia(seq){
  if(progressaoAtiva) return;
  progressaoAtiva=true; progIndex=0;
  btnPlayProg.style.display='none'; btnPauseProg.style.display='inline-block';
  const divs=acordesDiv.children;
  intervaloProg=setInterval(()=>{
    Array.from(divs).forEach(d=>d.dataset.fechado="true");
    const idx=parseInt(seq[progIndex]-1);
    if(divs[idx]) divs[idx].dataset.fechado="false";
    metaDiv.textContent="Tocando grau "+seq[progIndex];
    progIndex++; if(progIndex>=seq.length) progIndex=0;
  },1000);
}
btnPlayProg.onclick=()=>{ tocarProgressaoSequencia(progressaoDefinida.length?progressaoDefinida:['1','2','3','4','5','6','7']); };
btnPauseProg.onclick=()=>{ clearInterval(intervaloProg); btnPlayProg.style.display='inline-block'; btnPauseProg.style.display='none'; progressaoAtiva=false; metaDiv.textContent='Progress√£o pausada.'; };

/* --- 6. Definir progress√£o --- */
btnProgDefinir.onclick=()=>{
  let seq=prompt("Digite a sequ√™ncia de graus separados por '-' (ex: 1-4-5-2)");
  if(seq){ progressaoDefinida=seq.split("-").map(x=>x.trim()).filter(x=>x); metaDiv.textContent="Progress√£o definida: "+progressaoDefinida.join("-"); }
};

/* --- 7. Modo geral / individual --- */
btnGeral.onclick=()=>{ atualizarAcordes(); btnResetIndividual.style.display='none'; };
btnIndividual.onclick=()=>{
  Array.from(acordesDiv.children).forEach(d=>d.dataset.fechado="true");
  btnResetIndividual.style.display='inline-block';
  metaDiv.textContent="Modo individual ativado. Clique nos acordes para revelar.";
};
btnResetIndividual.onclick=()=>{ atualizarAcordes(); btnResetIndividual.style.display='none'; metaDiv.textContent="Modo individual resetado."; };
acordesDiv.onclick=e=>{
  if(e.target.dataset.fechado==="true") e.target.dataset.fechado="false";
};

/* --- 8. Toggle abas --- */
btnToggleTeoria.onclick=()=>{ abaTeoria.classList.toggle("active"); btnToggleTeoria.setAttribute("aria-expanded", abaTeoria.classList.contains("active")); };
btnToggleHistoria.onclick=()=>{ abaHistoria.classList.toggle("active"); btnToggleHistoria.setAttribute("aria-expanded", abaHistoria.classList.contains("active")); };

/* --- 9. Surpresa --- */
btnSurpresa.onclick=()=>{ 
  surpresaDiv.textContent=frasesSurpresa[Math.floor(Math.random()*frasesSurpresa.length)]; 
  surpresaDiv.style.display="block"; 
};

/* --- 10. Quiz --- */
const perguntas=[
  {q:"Qual √© o acorde do IV grau no campo maior?", op:["F","Fm","F#","E"], r:0},
  {q:"Qual grau √© dominante?", op:["I","V","vi","ii"], r:1},
  {q:"No campo menor natural, qual √© o acorde do i?", op:["m","¬∞","M","m7"], r:0},
  {q:"Qual acorde √© diminuto no campo maior?", op:["vii¬∞","iii","ii","V"], r:0},
  {q:"Qual grau √© subdominante?", op:["IV","V","vi","I"], r:0}
  
];
let quizIndex=0;
function mostrarPergunta(){ 
  const p=perguntas[quizIndex];
  document.getElementById("pergunta").textContent=p.q;
  const opcoesDiv=document.getElementById("opcoes"); opcoesDiv.innerHTML="";
  p.op.forEach((o,i)=>{
    const btn=document.createElement("div");
    btn.textContent=o; btn.className="quiz-opcao";
    btn.onclick=()=>{ 
      Array.from(opcoesDiv.children).forEach(b=>b.onclick=null); 
      if(i===p.r){ btn.classList.add("correta"); document.getElementById("feedback").textContent="‚úÖ Correto!"; } 
      else { btn.classList.add("errada"); document.getElementById("feedback").textContent="‚ùå Errado!"; } 
      document.getElementById("btnProxima").style.display="inline-block";
    };
    opcoesDiv.appendChild(btn);
  });
  document.getElementById("feedback").textContent=""; 
  document.getElementById("btnProxima").style.display="none";
}
document.getElementById("btnProxima").onclick=()=>{
  quizIndex++; if(quizIndex>=perguntas.length) quizIndex=0; mostrarPergunta();
};

/* --- 11. Inicializa√ß√£o --- */
criarBotoesTons(); atualizarAcordes(); mostrarPergunta();
</script>
</body>
</html>
